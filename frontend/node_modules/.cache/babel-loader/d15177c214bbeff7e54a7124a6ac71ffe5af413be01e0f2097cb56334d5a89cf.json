{"ast":null,"code":"var _jsxFileName = \"/Users/harshithlangu/Desktop/Sukeerthi/AttendX_github/attendX_attendance/frontend/src/components/AttendanceForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AttendanceForm = ({\n  onResults,\n  onLoading\n}) => {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n  const handleFileSelect = event => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => setPreview(e.target.result);\n      reader.readAsDataURL(file);\n    }\n  };\n  const handleTakeAttendance = async () => {\n    if (!selectedFile) {\n      alert('Please select an image first');\n      return;\n    }\n    onLoading(true);\n    const formData = new FormData();\n    formData.append('image', selectedFile);\n    try {\n      const response = await axios.post('/api/take-attendance', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      onResults(response.data.data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error taking attendance:', error);\n      onResults({\n        error: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to process attendance'\n      });\n    } finally {\n      onLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"upload-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Upload Group Photo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"image/*\",\n        onChange: handleFileSelect,\n        id: \"imageInput\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"imageInput\",\n        children: selectedFile ? selectedFile.name : 'Choose classroom photo...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), preview && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '20px 0'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: preview,\n        alt: \"Preview\",\n        style: {\n          maxWidth: '300px',\n          maxHeight: '200px',\n          borderRadius: '5px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: handleTakeAttendance,\n      disabled: !selectedFile,\n      children: \"Take Attendance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceForm, \"N6apeizM8PZQoeWf+TcZcuBXOkI=\");\n_c = AttendanceForm;\nexport default AttendanceForm;\nvar _c;\n$RefreshReg$(_c, \"AttendanceForm\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AttendanceForm","onResults","onLoading","_s","selectedFile","setSelectedFile","preview","setPreview","handleFileSelect","event","file","target","files","reader","FileReader","onload","e","result","readAsDataURL","handleTakeAttendance","alert","formData","FormData","append","response","post","headers","data","error","_error$response","_error$response$data","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","id","htmlFor","name","style","margin","src","alt","maxWidth","maxHeight","borderRadius","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/harshithlangu/Desktop/Sukeerthi/AttendX_github/attendX_attendance/frontend/src/components/AttendanceForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst AttendanceForm = ({ onResults, onLoading }) => {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [preview, setPreview] = useState(null);\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    \n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => setPreview(e.target.result);\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleTakeAttendance = async () => {\n    if (!selectedFile) {\n      alert('Please select an image first');\n      return;\n    }\n\n    onLoading(true);\n    \n    const formData = new FormData();\n    formData.append('image', selectedFile);\n\n    try {\n      const response = await axios.post('/api/take-attendance', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      \n      onResults(response.data.data);\n    } catch (error) {\n      console.error('Error taking attendance:', error);\n      onResults({ error: error.response?.data?.error || 'Failed to process attendance' });\n    } finally {\n      onLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"upload-section\">\n      <h2>Upload Group Photo</h2>\n      <div className=\"file-input\">\n        <input\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handleFileSelect}\n          id=\"imageInput\"\n        />\n        <label htmlFor=\"imageInput\">\n          {selectedFile ? selectedFile.name : 'Choose classroom photo...'}\n        </label>\n      </div>\n      \n      {preview && (\n        <div style={{ margin: '20px 0' }}>\n          <img \n            src={preview} \n            alt=\"Preview\" \n            style={{ maxWidth: '300px', maxHeight: '200px', borderRadius: '5px' }}\n          />\n        </div>\n      )}\n      \n      <button \n        className=\"btn btn-primary\" \n        onClick={handleTakeAttendance}\n        disabled={!selectedFile}\n      >\n        Take Attendance\n      </button>\n    </div>\n  );\n};\n\nexport default AttendanceForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}